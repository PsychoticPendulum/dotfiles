#! /bin/bash
# |-------------------------------------------------------------------------|
# |  ____                 _     _      ____                        _        |
# | |  _ \ ___ _   _  ___| |__ (_) ___|  _ \ ___ _ __   __ _ _   _(_)_ __   |
# | | |_) / __| | | |/ __| '_ \| |/ __| |_) / _ \ '_ \ / _` | | | | | '_ \  |
# | |  __/\__ \ |_| | (__| | | | | (__|  __/  __/ | | | (_| | |_| | | | | | |
# | |_|   |___/\__, |\___|_| |_|_|\___|_|   \___|_| |_|\__, |\__,_|_|_| |_| |
# |           |___/                                   |___/                 |
# |-------------------------------------------------------------------------| 

set -e

if [[ -z "$1" ]]; then
	echo "Usage:	dump <program>"
	exit
fi


echo "Creating hexdump"
hexdump $1 > "$1.hex"
echo "Creating objectdump"
objdump -d $1 > "$1.obj"
echo "creating binarydump"
xxd -b -c1 $1 | cut -d" " -f2 | tr -d "\n" > "$1.bin"
echo "Done"
ls
